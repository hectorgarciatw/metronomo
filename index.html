<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Metronomo</title>

        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
        <!-- BoxIcons -->
        <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
        <!-- Animate CSS -->
        <link rel="stylesheet" href="/assets/css/animate.min.css" />
        <!-- Mis estilos -->
        <link rel="stylesheet" href="/assets/css/style.css" />
    </head>
    <body>
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light shadow fixed-top">
            <div class="container">
                <!-- Logo -->
                <a class="navbar-brand" href="#">
                    <img src="/assets/images/logo.png" alt="Bootstrap" />
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item active">
                            <a class="nav-link acerca" href="#">Acerca</a>
                        </li>
                        <!-- Dropdown de idioma -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"> <i class="bx bx-world"></i> Idiomas </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li>
                                    <a id="toSpanish" class="dropdown-item active" href="#"><img src="/assets/images/flags/esp.png" alt="Español" /> Español <i class="bx bx-check"></i></a>
                                </li>
                                <li>
                                    <a id="toEnglish" class="dropdown-item" href="#"><img src="/assets/images/flags/en.png" alt="Inglés" /> Inglés</a>
                                </li>
                            </ul>
                        </li>
                        <!-- Fin del dropdown de idioma -->
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Full Page Image Header with Vertically Centered Content -->
        <header class="masthead">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <section class="py-5" style="margin-top: -40px">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-6 mx-auto">
                                    <blockquote class="blockquote blockquote-custom bg-white p-5 shadow rounded">
                                        <div class="blockquote-custom-icon bg-info shadow-md animate__animated animate__backInRight"><i class="bx bxs-music bx-md"></i></div>
                                        <div id="startStopButton" data-toggle="tooltip" data-placement="top" title="Reproducir/Frenar" class="blockquote-button blockquote-playStop bg-info shadow-md"><i class="bx bx-play-circle bx-md"></i></div>
                                        <div id="tapTempoButton" data-toggle="tooltip" data-placement="top" title="Tap Tempo" class="blockquote-button blockquote-tapTempo bg-info shadow-md"><i class="bx bx-shape-circle bx-md"></i></div>

                                        <div class="controls container-fluid py-5">
                                            <div class="bpm-container">
                                                <div class="bpm-pill animate__animated animate__backInDown">BPM</div>
                                                <div id="bpm" class="display-1 fw-bold bpmIndicator animate__animated animate__rubberBand">120</div>
                                                <label id="classification" class="form-label animate__animated animate__backInLeft" for="customRange1">Allegro</label>
                                            </div>
                                            <div id="beatsCircles" class="beats">
                                                <div class="beat-circle"></div>
                                                <div class="beat-circle"></div>
                                                <div class="beat-circle"></div>
                                                <div class="beat-circle"></div>
                                                <div class="beatPill">💓Latidos</div>
                                            </div>

                                            <div class="row align-items-center">
                                                <div class="col-auto">
                                                    <!-- Botón para decrementar -->
                                                    <button id="decrementButton" class="btn btn-outline btn-circle" type="button">
                                                        <i class="bx bx-minus"></i>
                                                    </button>
                                                </div>
                                                <div class="col">
                                                    <!-- BPM slider -->
                                                    <input type="range" id="bpmSlider" class="form-range" min="1" max="240" value="120" />
                                                </div>
                                                <div class="col-auto">
                                                    <!-- Botón para incrementar -->
                                                    <button id="incrementButton" class="btn btn-outline btn-circle" type="button">
                                                        <i class="bx bx-plus"></i>
                                                    </button>
                                                </div>
                                            </div>

                                            <div class="beatSelector">
                                                <div class="beatCounter">Latidos</div>
                                                <button id="decrementBeatCount" class="btn btn-outline btn-beatSelector" type="button">
                                                    <i class="bx bx-minus"></i>
                                                </button>
                                                <div id="beatsDisplay">4</div>
                                                <button id="incrementBeatCount" class="btn btn-outline btn-beatSelector" type="button">
                                                    <i class="bx bx-plus"></i>
                                                </button>
                                            </div>

                                            <div class="options">
                                                <select id="figureOptions" class="form-select" aria-label="Default select example">
                                                    <option selected>Subdivisiones</option>
                                                    <option value="1">&#x1D15F; - Negra</option>
                                                    <option value="2">&#x1D160; - Corchea</option>
                                                    <option value="4">&#x1D161; - Semicorchea</option>
                                                    <option value="8">&#x1D162; - Fusa</option>
                                                    <option value="16">&#x1D163; - Semifusa</option>
                                                </select>
                                            </div>

                                            <div class="options">
                                                <select id="audioOptions" class="form-select" aria-label="Default select example">
                                                    <option selected>Audio del click</option>
                                                    <option value="1">🎻 Clásico</option>
                                                    <option value="2">🎹 Grave</option>
                                                    <option value="3">🪵 Natural</option>
                                                    <option value="4">🖇 Cencerro</option>
                                                </select>
                                            </div>

                                            <div class="countdown form-check form-switch d-flex align-items-center">
                                                <input id="stopwatchCheck" class="form-check-input me-3" type="checkbox" id="flexSwitchCheckDefault" />
                                                <label class="form-check-label me-3" for="flexSwitchCheckDefault">Temporizador</label>
                                                <div class="input-group">
                                                    <input
                                                        type="text"
                                                        id="timeInput"
                                                        class="form-control text-center"
                                                        value="1:00"
                                                        aria-label="Sizing example input"
                                                        aria-describedby="inputGroup-sizing-sm"
                                                        style="height: auto; padding: 0; margin: 0"
                                                    />
                                                    <div class="input-group-btn" style="height: auto">
                                                        <button class="btn btn-outline-secondary btn-sm" type="button" id="subtractMinute" style="height: 25px; min-width: 25px"><i class="bx bx-minus" style="font-size: 12px"></i></button>
                                                        <button class="btn btn-outline-secondary btn-sm" type="button" id="addMinute" style="height: 25px; min-width: 25px"><i class="bx bx-plus" style="font-size: 12px"></i></button>
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="firstBeat" class="firstBeat form-check form-switch d-flex align-items-center">
                                                <input id="firstBeatToogle" class="form-check-input me-3" type="checkbox" id="flexSwitchCheckDefault" />
                                                <label class="form-check-label me-3" for="flexSwitchCheckDefault">Marcar primer Beat</label>
                                            </div>

                                            <div class="volumeToogle form-check form-switch">
                                                <label class="form-check-label" for="modo-oscuro-switch">
                                                    <span class="full-volume-icon"><i class="bx bx-volume-full"></i></span>
                                                    <span class="low-volume-icon"><i class="bx bx-volume-low"></i></span>
                                                </label>
                                                <input class="form-check-input" checked type="checkbox" id="volume-switch" />
                                            </div>
                                            <div class="styleToogle form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="modo-oscuro-switch" />
                                                <label class="form-check-label" for="modo-oscuro-switch">
                                                    <span class="modo-claro-icon"><i class="bx bx-sun"></i></span>
                                                    <span class="modo-oscuro-icon"><i class="bx bx-moon"></i></span>
                                                </label>
                                            </div>
                                            <audio id="tickSound1" src="/assets/audios/classic.mp3"></audio>
                                            <audio id="tickSound2" src="/assets/audios/loud.mp3"></audio>
                                            <audio id="tickSound3" src="/assets/audios/naturalLow.mp3"></audio>
                                            <audio id="tickSound4" src="/assets/audios/can.mp3"></audio>
                                        </div>
                                    </blockquote>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </header>

        <footer class="footer">
            <p>Implementado por ☕️ Héctor García</p>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="/assets/js/script.js"></script>
        <script src="/assets/js/translate.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const volumeButton = document.getElementById('volumeButton');
                const volumeSlider = document.getElementById('volumeSlider');

                var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="tooltip"]'));
                var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                    return new bootstrap.Tooltip(tooltipTriggerEl);
                });

                // Obtener el elemento del dropdown
                const dropdown = document.querySelector('.dropdown');

                // Para el comportamiento del logo
                const navbarCollapse = document.querySelector('.navbar-collapse');
                const navbarBrand = document.querySelector('.navbar-brand');

                // Evento para detectar la expansión del navbar
                navbarCollapse.addEventListener('show.bs.collapse', () => {
                    navbarBrand.style.display = 'none'; // Ocultar el logo
                });

                // Evento para detectar la contracción del navbar
                navbarCollapse.addEventListener('hide.bs.collapse', () => {
                    navbarBrand.style.display = 'block'; // Mostrar el logo
                });
            });
        </script>
    </body>
</html>
